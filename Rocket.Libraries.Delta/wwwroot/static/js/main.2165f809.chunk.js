(this["webpackJsonprocket-gundi"]=this["webpackJsonprocket-gundi"]||[]).push([[0],{107:function(t,e,n){"use strict";n.r(e);var r,a=n(0),i=n.n(a),o=n(16),c=n.n(o),s=(n(69),n(10)),u=n(3),p=n(1);function l(t){var e,n=Object(a.useState)({path:"/"}),i=Object(s.a)(n,2),o=i[0],c=i[1],u=Object(a.useState)(),l=Object(s.a)(u,2),h=l[0],d=l[1],f=function(){c({path:window.location.pathname})};Object(a.useEffect)((function(){return window.basicRouter.push=function(t){t.path=t.path.toLocaleLowerCase(),c(t)},r=f,window.addEventListener("popstate",r),function(){window.basicRouter.push=function(t){console.error("BasicRouter push was disposed")},window.removeEventListener("popstate",r)}})),Object(a.useEffect)((function(){window.history.pushState(o.data,"",o.path),d(o)}),[o.path,o.data,o]);var j=null!==(e=t.routes.find((function(t){return t.path.toLocaleLowerCase()===o.path})))&&void 0!==e?e:{path:"/404",component:t.badRouteComponent};return h===o?Object(p.jsx)("div",{children:j.component},null===h||void 0===h?void 0:h.path):Object(p.jsx)(p.Fragment,{children:"..."})}window.basicRouter=window.basicRouter||new function t(){Object(u.a)(this,t),this.push=function(t){return console.error("Push not yet initialized")}};var h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,116)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),r(t),a(t),i(t),o(t)}))},d=(n(71),n(4)),f=n.n(d),j=n(8),b=n(5),v=n(7),y=n(6),O=n(15),g=function(){function t(){Object(u.a)(this,t)}return Object(b.a)(t,[{key:"host",get:function(){return["localhost","127.0.0.1"].includes(window.location.hostname.toLocaleLowerCase())?"http://localhost:5002/":""}}]),t}(),x=function(t){var e=new g;return encodeURI("".concat(e.host,"api/").concat(t))},w=function(){function t(){Object(u.a)(this,t)}return Object(b.a)(t,[{key:"getAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.callAsync(e,"GET");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"postAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.callAsync(e,"POST",n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"callAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e,n,r){var a,i,o,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=x(e),i=new AbortController,o={method:n,signal:i.signal,headers:{Accept:"application/json","Accept-Encoding":"gzip","Content-Type":"application/json;charset=UTF-8"},body:r?JSON.stringify(r):void 0},setTimeout((function(){return i.abort()}),3e5),t.next=6,fetch(a,o);case 6:if(!(c=t.sent).ok){t.next=11;break}return t.abrupt("return",c);case 11:throw new Error("Error calling api '".concat(a,"'\n HTTP Status Code: '").concat(c.status,"' Status Text '").concat(c.statusText,"'"));case 12:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),t}(),m=function(){function t(){Object(u.a)(this,t)}return Object(b.a)(t,[{key:"getAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new w,t.next=3,n.getAsync(e);case 3:return r=t.sent,t.next=6,this.extractPayloadAsync(r);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"postAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e,n){var r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new w,t.next=3,r.postAsync(e,n);case 3:return a=t.sent,t.next=6,this.extractPayloadAsync(a);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"extractPayloadAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=1,t.next=3,e.json();case 3:if((r=t.sent).code!==n){t.next=8;break}return t.abrupt("return",r.payload);case 8:throw new Error("API call error: "+r.message);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),k=function(){function t(){Object(u.a)(this,t),this.apiVersion="v1"}return Object(b.a)(t,[{key:"wrappedResponseApiCaller",get:function(){return new m}},{key:"getRelativeUrl",value:function(t){return"".concat(this.apiVersion,"/").concat(this.basePath,"/").concat(t)}},{key:"getAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wrappedResponseApiCaller.getAsync(this.getRelativeUrl(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"postAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wrappedResponseApiCaller.postAsync(this.getRelativeUrl(e),n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),D={zero:0,one:1,negativeOne:-1,strings:{firstElementIndex:0},arrays:{emptyArrayLength:0,firstElementIndex:0},paging:{nextIncrementAmount:1,lastDecrementAmount:-1},zIndexes:{actionBar:2,menuDropDown:function(){return D.zIndexes.actionBar+D.one},mobileTopBar:function(){return D.zIndexes.menuDropDown()+D.one}},defaultGuid:"00000000-0000-0000-0000-000000000000"},A=D,P=n(60),S=function(){function t(e,n,r,a){var i=this;Object(u.a)(this,t),this.maximumPageSize=65535,this.pageSize=this.maximumPageSize,this.hasMorePages=!0,this.page=A.one,this.dataset=void 0,this.pageableEndpoint=void 0,this.searchEndpoint="search",this.applyPagingToSearches=!0,this.debouncingSearcher=void 0,this.searchDebounceMilliseconds=500,this.searchText="",this.page=null!==r&&void 0!==r?r:this.page,this.pageSize=null!==a&&void 0!==a?a:this.pageSize,this.dataset=e,this.pageableEndpoint=null!==n&&void 0!==n?n:"get-pageable",this.debouncingSearcher=Object(P.a)(this.searchDebounceMilliseconds,!1,function(){var t=Object(j.a)(f.a.mark((function t(e,n,r,a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e()){t.next=7;break}return i.hasMorePages=!1,t.next=4,n();case 4:a(i.dataset),t.next=12;break;case 7:i.hasMorePages=!0,a([]),i.replaceData([]),i.page=A.one,r();case 12:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}())}return Object(b.a)(t,[{key:"replaceData",value:function(t){this.dataset.splice(A.zero,this.dataset.length);for(var e=0;e<t.length;e++)this.dataset.push(t[e])}},{key:"search",value:function(t,e,n,r){var a=this;this.searchText=t,this.debouncingSearcher((function(){return a.searchText}),e,n,r)}},{key:"appendData",value:function(t){if(t&&Array.isArray(t)){this.hasMorePages=t.length===this.pageSize,this.page+=1;for(var e=0;e<t.length;e++)this.dataset.push(t[e])}}}]),t}(),C=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"getPaged",value:function(){var t=Object(j.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getOptionallyPaged(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"searchAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e){var n,r,a,i,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=null!==(n=e.searchEndpoint)&&void 0!==n?n:"search",e=null!==(r=e)&&void 0!==r?r:new S([]),i="".concat(a,"?searchText=").concat(e.searchText),e.applyPagingToSearches&&(i+="&page=".concat(e.page,"&pageSize=").concat(e.pageSize)),t.next=6,this.getAsync(i);case 6:return o=t.sent,e.replaceData(o),t.abrupt("return",o);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getOptionallyPaged",value:function(){var t=Object(j.a)(f.a.mark((function t(e){var n,r,a,i,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!e||e.hasMorePages)){t.next=11;break}return i=null!==(n=null===(r=e)||void 0===r?void 0:r.pageableEndpoint)&&void 0!==n?n:"get-pageable",e=null!==(a=e)&&void 0!==a?a:new S([]),t.next=6,this.getAsync("".concat(i,"?page=").concat(e.page,"&pageSize=").concat(e.pageSize));case 6:return o=t.sent,e.appendData(o),t.abrupt("return",o);case 11:return t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"insertAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.postAsync("insert",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(k),T=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).basePath="ProjectDefinitions",t}return n}(C),R=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).basePath="Run",t}return Object(b.a)(n,[{key:"runByIdAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAsync("run-by-id?projectId=".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(C),L=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).dataAdapter=new S([],"get-all"),t}return Object(b.a)(n,[{key:"branchlessLabel",get:function(){return"Local Only Projects!"}},{key:"fetchProjectDefinitionsAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(){var e,n=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.runAsync({fn:function(){var t=Object(j.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(new T).getOptionallyPaged(n.dataAdapter);case 3:return e=t.sent,n.context.repository.hasFetchedProjectDefinitions=!0,t.abrupt("return",e);case 8:return t.prev=8,t.t0=t.catch(0),console.error(t.t0),setTimeout(Object(j.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.fetchProjectDefinitionsAsync();case 2:case"end":return t.stop()}}),t)}))),2e3),t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()});case 2:e=t.sent,this.potter.pushToRepository({projectDefinitions:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"tabs",get:function(){var t=[],e=!1;if(this.context.repository.hasFetchedProjectDefinitions)for(var n=0;n<this.context.repository.projectDefinitions.length;n++)if(this.context.repository.projectDefinitions[n].repositoryDetail&&this.context.repository.projectDefinitions[n].repositoryDetail.branch){var r=this.toTitleCase(this.context.repository.projectDefinitions[n].repositoryDetail.branch);-1===t.indexOf(r)&&t.push(r)}else e=!0;return t.sort((function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:1})),e&&t.push(this.branchlessLabel),t}},{key:"getProjectsByBranch",value:function(t){var e,n=this;return t.branch===this.branchlessLabel?this.context.repository.projectDefinitions.filter((function(t){return!t.repositoryDetail||!t.repositoryDetail.branch})):null!==(e=this.context.repository.projectDefinitions.filter((function(e){return!(!e.repositoryDetail||!e.repositoryDetail.branch)&&n.toTitleCase(e.repositoryDetail.branch)===t.branch})))&&void 0!==e?e:[]}},{key:"toTitleCase",value:function(t){if(t){var e=t.charAt(0).toUpperCase(),n=t.substring(1).toLocaleLowerCase();return"".concat(e).concat(n)}return""}},{key:"runProjectAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.runAsync({fn:function(){var t=Object(j.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new R).runByIdAsync(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 2:t.sent?this.potter.pushToRepository({message:"Completed successfully"}):this.potter.pushToRepository({message:"Unable to complete running of project"});case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(O.c),F=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).projectDefinitions=[],t.message="",t.hasFetchedProjectDefinitions=!1,t.startingUpText="Gundi is starting up. Please wait...",t}return n}(O.d),E=n(114),M=n(115),B=n(110),z=n(111),I={container:{margin:"10px"}},V=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"onRender",value:function(){var t=this;return Object(p.jsx)("div",{style:I.container,children:Object(p.jsx)(E.a,{id:"projects",className:"mb-3",children:this.logic.tabs.map((function(e){var n,r=t.logic.getProjectsByBranch({branch:e}),a=null!==(n=null===r||void 0===r?void 0:r.length)&&void 0!==n?n:0;return Object(p.jsx)(M.a,{eventKey:e,title:"".concat(e," (").concat(a,")"),children:t.table({branch:e})},e)}))})})}},{key:"table",value:function(t){return Object(p.jsx)(B.a,{striped:!0,bordered:!0,hover:!0,size:"sm",responsive:!0,children:Object(p.jsxs)("thead",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"#"}),Object(p.jsx)("th",{children:"Project"}),Object(p.jsx)("th",{children:"Action"})]}),this.logic.getProjectsByBranch(t).map((function(t,e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e+1}),Object(p.jsx)("td",{children:t.label}),Object(p.jsx)("td",{children:Object(p.jsx)(z.a,{style:{width:"100%"},onClick:function(){window.basicRouter.push({path:"/project",data:t})},children:"Run"})})]},e)}))]})})}}]),n}(O.a),N=n(113),U=n(112);function G(t){return Object(p.jsx)(N.a,{show:t.show,children:Object(p.jsx)(U.a,{animated:!0,now:100})})}var K=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this,new F,{},new L)).componentToShow=function(){return t.repository.hasFetchedProjectDefinitions?Object(p.jsx)(V,{potter:t.potter},t.getChildKeyFromObject(t.repository.projectDefinitions)):Object(p.jsx)("div",{style:{width:"100%",margin:"auto",border:"solid 1px #DFDFDF",textAlign:"center",paddingTop:"50px"},children:t.repository.startingUpText})},t}return Object(b.a)(n,[{key:"message",value:function(){var t=this;return Object(p.jsxs)(N.a,{show:!!this.repository.message,onHide:function(){return t.potter.pushToRepository({message:""})},children:[Object(p.jsx)(N.a.Body,{children:this.repository.message}),Object(p.jsx)(N.a.Footer,{children:Object(p.jsx)(z.a,{variant:"secondary",onClick:function(){return t.potter.pushToRepository({message:""})},children:"Close"})})]})}},{key:"componentDidMount",value:function(){var t=Object(j.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.logic.fetchProjectDefinitionsAsync();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onRender",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(G,{show:this.repository.busy}),this.componentToShow()]})}},{key:"onStartedAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),n}(O.b);var H=function t(e){var n=this;Object(u.a)(this,t),this.eventSource=void 0,this.eventSource=new EventSource(e.url),this.eventSource.onmessage=function(t){"---terminate---"===t.data&&n.eventSource?(n.eventSource.close(),n.eventSource.onmessage=null,e.onCompleted()):e.onData(t.data)}},J=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).isRunning=!1,t}return Object(b.a)(n,[{key:"projectDefinition",get:function(){return window.history.state}},{key:"runProjectAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(){var e,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isRunning){t.next=3;break}return t.abrupt("return");case 3:return this.potter.pushToRepository({busy:!0}),this.handleEventListening(),this.isRunning=!0,t.next=8,(new R).runByIdAsync(this.projectDefinition.projectId);case 8:e=t.sent,this.potter.pushToRepository({processRunningResult:e}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),n={errors:["Error occured on server"]},this.potter.pushToRepository({processRunningResult:[n]});case 17:return t.prev=17,this.isRunning=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,12,17,20]])})));return function(){return t.apply(this,arguments)}}()},{key:"hasOutput",get:function(){return this.context.repository.output&&this.context.repository.output.length>0}},{key:"scrollToBottom",value:function(){var t=document.getElementById("gundi-output");t&&t.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}},{key:"handleEventListening",value:function(){var t=this;new H({url:"".concat((new g).host,"api/v1/EventQueue/listen?projectId=").concat(this.projectDefinition.projectId),onData:function(e){t.context.repository.output.push(e),t.potter.pushToRepository({}),t.scrollToBottom()},onCompleted:function(){t.potter.pushToRepository({busy:!1}),t.scrollToBottom()}})}}]),n}(O.c),W=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).processRunningResult=[],t.output=[],t}return n}(O.d);function Q(t){return document.title=t.title,Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(G,{show:t.busy}),t.children]})}var q=n(62),X=n.n(q),Y={header:{fontSize:"25px",fontWeight:"bold"}},Z=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.call(this,new W,{},new J)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=Object(j.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.logic.runProjectAsync();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"onRender",value:function(){return Object(p.jsxs)(Q,{title:"Gundi - ".concat(this.logic.projectDefinition.label),busy:this.repository.busy,children:[Object(p.jsx)("div",{style:Y.header,children:this.logic.projectDefinition.label}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{id:"gundi-output",style:{padding:"10px",margin:"4px",border:"solid 1px #DFDFDF"},children:[Object(p.jsx)(X.a,{children:Object(p.jsx)("ol",{children:this.repository.output.map((function(t){return t.split("<br/>").map((function(t,e){return t?Object(p.jsx)("li",{children:t},e):Object(p.jsx)(p.Fragment,{})}))}))})}),Object(p.jsx)(z.a,{onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},children:"Scroll To Top"})]})]})}},{key:"onStartedAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),n}(O.b),$=n(47),_=n.n($),tt=function t(){Object(u.a)(this,t),this.applicationName="Gundi",this.save="Save"},et=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).addNewApplication="Add New Application",t}return n}(tt),nt=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).repository=void 0,t.model=void 0,t.strings=new et,t}return n}(_.a),rt=(n(56),{container:{width:"90%",margin:"auto"}}),at=new nt,it=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{style:rt.container,children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{children:["Welcome to ",at.strings.applicationName]}),Object(p.jsx)("hr",{})]}),Object(p.jsx)("div",{className:"flex-grid-responsive",children:Object(p.jsx)("div",{className:"col1",children:Object(p.jsx)(z.a,{onClick:function(){return window.basicRouter.push({path:"/applications/form"})},children:at.strings.addNewApplication})})})]})}}]),n}(a.PureComponent),ot=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"flex-grid-responsive",children:[Object(p.jsxs)("div",{className:"col1",children:[Object(p.jsx)("div",{children:Object(p.jsx)(z.a,{variant:"link",onClick:function(){return window.basicRouter.push({path:"/"})},children:"Home"})}),Object(p.jsx)("div",{children:Object(p.jsx)(z.a,{variant:"link",onClick:function(){return window.basicRouter.push({path:"/project-definitions/list"})},children:"Projects List"})})]}),Object(p.jsx)("div",{className:"col6",children:this.props.children})]})}}]),n}(a.PureComponent),ct=n(2),st=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"displayLabel",get:function(){return this.props.displayLabel?Object(p.jsx)("div",{children:this.props.displayLabel}):null}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[this.displayLabel,this.props.children]})}}]),n}(a.PureComponent),ut=n(63),pt=function(){function t(){Object(u.a)(this,t)}return Object(b.a)(t,[{key:"onSelectionChanged",value:function(t){return t}},{key:"adaptManyToDropdownValue",value:function(t){return t}},{key:"extractManyDataFromDropdownValue",value:function(t){return t}},{key:"adaptSingleToDropdownValue",value:function(t){return t}},{key:"extractSingleDataFromDropdownValue",value:function(t){return t}}]),t}(),lt=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).dropDownValues=[],t}return Object(b.a)(n,[{key:"adapter",get:function(){return this.props.adapter?this.props.adapter:new pt}},{key:"render",value:function(){var t=this;return Object(p.jsx)(st,Object(ct.a)(Object(ct.a)({},this.props),{},{children:Object(p.jsx)(ut.a,Object(ct.a)(Object(ct.a)({closeMenuOnSelect:!0,options:this.props.data.map((function(e){return t.adapter.adaptSingleToDropdownValue(e)}))},this.props.adapter),{},{onChange:function(e){if(t.props.onSelectionChanged){var n=t.adapter.onSelectionChanged(e);t.props.onSelectionChanged(n)}}}))}))}}]),n}(a.PureComponent),ht=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(u.a)(this,t),this.isMulti=void 0,this.closeMenuOnSelect=void 0,this.labelKey=void 0,this.labelKey=e,this.isMulti=n.isMulti,this.closeMenuOnSelect=n.closeMenuOnSelect}return Object(b.a)(t,[{key:"adaptManyToDropdownValue",value:function(t){var e=this;return t.map((function(t){return e.adaptSingleToDropdownValue(t)}))}},{key:"extractManyDataFromDropdownValue",value:function(t){var e=this;return t.map((function(t){return e.extractSingleDataFromDropdownValue(t)}))}},{key:"adaptSingleToDropdownValue",value:function(t){return{value:t,label:this.getLabel(t)}}},{key:"extractSingleDataFromDropdownValue",value:function(t){return null===t||void 0===t?void 0:t.value}},{key:"onSelectionChanged",value:function(t){var e=this,n=(this.isMulti,t);return this.isMulti?n.map((function(t){return e.extractSingleDataFromDropdownValue(t)})):this.extractSingleDataFromDropdownValue(n)}},{key:"getLabel",value:function(t){if(t){var e=Reflect.getOwnPropertyDescriptor(t,this.labelKey);if(e){var n=e.value;if(n)return n.toString()}}return""}}]),t}(),dt={form:{width:"90%",margin:"auto",padding:"10px"},buttonsContainer:{textAlign:"right"}},ft=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"buttons",get:function(){return this.props.buttons?Object(p.jsxs)("div",{style:dt.buttonsContainer,children:[Object(p.jsx)("hr",{}),this.props.buttons]}):null}},{key:"render",value:function(){return Object(p.jsxs)("div",{style:dt.form,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:this.props.title}),Object(p.jsx)("div",{children:this.props.description}),Object(p.jsx)("hr",{})]}),this.props.children,this.buttons]})}}]),n}(a.PureComponent),jt=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var t=this;return Object(p.jsx)(st,Object(ct.a)(Object(ct.a)({},this.props),{},{children:Object(p.jsx)("input",{type:"text",onChange:function(e){return t.props.onChange(e.target.value)},defaultValue:this.props.value})}))}}]),n}(a.PureComponent),bt=function t(){Object(u.a)(this,t),this.applicationProjectDefinitions=[],this.validationErrors=[]},vt=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).name="Application Name",t.addNewApplication="Add New Application",t.description="Use this form to add a new application.",t.projects="Projects",t}return n}(tt),yt=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).strings=new vt,t.repository=new bt,t.model={},t.dataAdapter=new S([],"get-all"),t}return Object(b.a)(n,[{key:"onProjectSelectionChanged",value:function(t){this.updateModel({applicationProjectDefinitions:t})}},{key:"setApplicationDisplayLabel",value:function(t){this.updateModel({displayLabel:t})}},{key:"fetchProjectDefinitionsAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(){var e,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new T).getOptionallyPaged(this.dataAdapter);case 2:e=t.sent,(n=e.filter((function(t){return!!t.repositoryDetail})).map((function(t){return{label:t.repositoryDetail.branch+" \u2212 "+t.label,repositoryDetail:t.repositoryDetail,tag:""}}))).sort((function(t,e){return t.label.localeCompare(e.label)})),this.updateRepository({applicationProjectDefinitions:n});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"saveApplicationAsync",value:function(){var t=Object(j.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.model,t.abrupt("return",Promise.resolve(e));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(_.a),Ot=new yt,gt=function(t){Object(v.a)(n,t);var e=Object(y.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=Object(j.a)(f.a.mark((function t(){var e=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ot.setRerender((function(){return e.forceUpdate()})),t.next=3,Ot.fetchProjectDefinitionsAsync();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"saveButton",get:function(){return Object(p.jsx)(z.a,{onClick:Object(j.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ot.saveApplicationAsync();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:Ot.strings.save})}},{key:"render",value:function(){return Object(p.jsxs)(ft,{title:Ot.strings.addNewApplication,description:Ot.strings.description,buttons:this.saveButton,children:[Object(p.jsx)(jt,{displayLabel:Ot.strings.name,validationErrors:Ot.repository.validationErrors,id:"Application.DisplayLabel",onChange:function(t){return Ot.setApplicationDisplayLabel(t)},value:Ot.model.displayLabel}),Object(p.jsx)(lt,{id:"Application.Projects",displayLabel:Ot.strings.projects,data:Ot.repository.applicationProjectDefinitions,validationErrors:Ot.repository.validationErrors,selected:Ot.model.applicationProjectDefinitions,onSelectionChanged:function(t){Ot.onProjectSelectionChanged(t)},adapter:new ht("label",{isMulti:!0,closeMenuOnSelect:!1})})]})}}]),n}(a.PureComponent);c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(ot,{children:Object(p.jsx)(l,{routes:[{path:"/",component:Object(p.jsx)(it,{})},{path:"/project-definitions/list",component:Object(p.jsx)(K,{})},{path:"/project",component:Object(p.jsx)(Z,{})},{path:"/applications/form",component:Object(p.jsx)(gt,{})}],badRouteComponent:Object(p.jsx)("div",{children:"Nothing here"})})})}),document.getElementById("root")),h()},56:function(t,e,n){},69:function(t,e,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.2165f809.chunk.js.map